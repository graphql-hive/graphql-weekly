---
import Layout from "../layouts/Layout.astro";
import "../index.css";

const apiUrl = import.meta.env.DEV
  ? "http://localhost:2012"
  : (import.meta.env.PUBLIC_API_URL || "https://api.graphqlweekly.com");
---

<Layout title="Sign In - GraphQL Weekly CMS">
  <div class="min-h-screen bg-neu-50 dark:bg-neu-950 flex items-center justify-center">
    <div class="text-center p-8 max-w-md">
      <h1 class="text-2xl text-neu-900 dark:text-neu-100 mb-4">
        GraphQL Weekly CMS
      </h1>
      <p class="text-neu-600 dark:text-neu-400 mb-6">
        Sign in with GitHub to manage newsletter issues.
      </p>
      <a
        href={`${apiUrl}/auth/sign-in/social?provider=github&callbackURL=${encodeURIComponent("/")}`}
        class="inline-block px-4 py-2 bg-neu-900 dark:bg-neu-100 text-neu-100 dark:text-neu-900 hover:bg-neu-800 dark:hover:bg-neu-200 no-underline"
      >
        Sign in with GitHub
      </a>
    </div>
  </div>
</Layout>
