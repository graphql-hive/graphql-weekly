---
import Layout from "../layouts/Layout.astro";
import { Button } from "../components/Button";
import "../index.css";
---

<Layout title="Log In - GraphQL Weekly CMS">
  <div class="min-h-screen bg-neu-50 dark:bg-neu-950 grid grid-cols-12 gap-4 p-6 md:p-12">
    <!-- Left column: decorative accent -->
    <div class="col-span-1 hidden md:flex flex-col justify-between py-8">
      <div class="w-px h-32 bg-linear-to-b from-[#C2F653] to-transparent"></div>
      <div class="w-px h-32 bg-linear-to-t from-[#C2F653]/30 to-transparent"></div>
    </div>

    <!-- Main content: left-aligned -->
    <div class="col-span-12 md:col-span-7 flex flex-col justify-center min-h-[80vh]">
      <h1 class="text-4xl md:text-5xl lg:text-6xl text-neu-900 dark:text-neu-100 mb-8 leading-[1.1]">
        GraphQL Weekly CMS
      </h1>

      <p class="text-neu-600 dark:text-neu-400 text-lg mb-12 max-w-lg">
        Log in with GitHub to manage newsletter issues.
      </p>

      <Button id="login-btn" className="w-fit" client:load>
        <svg class="size-4 shrink-0" viewBox="0 0 24 24">
          <path
            d="M5 2h4v2H7v2H5V2Zm0 10H3V6h2v6Zm2 2H5v-2h2v2Zm2 2v-2H7v2H3v-2H1v2h2v2h4v4h2v-4h2v-2H9Zm0 0v2H7v-2h2Zm6-12v2H9V4h6Zm4 2h-2V4h-2V2h4v4Zm0 6V6h2v6h-2Zm-2 2v-2h2v2h-2Zm-2 2v-2h2v2h-2Zm0 2h-2v-2h2v2Zm0 0h2v4h-2v-4Z"
            fill="currentColor"
          />
        </svg>
        Log in with GitHub
      </Button>
    </div>

    <!-- Right column: visual interest -->
    <div class="col-span-4 hidden md:flex items-end justify-end pb-12">
      <svg class="size-48 lg:size-64 text-neu-900 dark:text-neu-800 opacity-50" viewBox="0 0 24 24">
        <path fill="currentColor" d="M5 3H3v4h2V5h14v14H5v-2H3v4h18V3H5zm12 8h-2V9h-2V7h-2v2h2v2H3v2h10v2h-2v2h2v-2h2v-2h2v-2z" />
      </svg>
    </div>
  </div>
</Layout>

<script>
  import { logIn } from "../client/auth";

  document.getElementById("login-btn")?.addEventListener("click", logIn);
</script>
